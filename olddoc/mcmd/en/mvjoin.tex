
%\begin{document}
%\usepackage{comment}

\section{mvjoin - Join Reference Vector Elements \label{sect:mvjoin}}
\index{mvjoin@mvjoin}
Join vector elements with corresponding taxonomy elements from reference file with the same key. A vector field  is shown in Table \ref{tbl:mvjoin_input} where the column item includes multiple elements separated by a space delimiter. 

%\begin{comment}
Table \ref{tbl:mvjoin_input} - \ref{tbl:mvjoin_out3} highlights some examples.

\begin{table}[htbp]
\begin{center}
\begin{tabular}{ccc}

\begin{minipage}{0.3\hsize}
\begin{center}
\caption{Input data\label{tbl:mvjoin_input}}
\verb|in.csv| \\
{\small
\begin{tabular}{cl}
\hline
no&items \\
\hline
1&a b c \\
2&a d \\
3&b f e f \\
4&f c d \\
\hline

\end{tabular}
}
\end{center}
\end{minipage}

\begin{minipage}{0.3\hsize}
\begin{center}
\caption{Reference file\label{tbl:mvjoin_ref}}
\verb|ref.csv| \\
{\small
\begin{tabular}{cc}
\hline
item&taxo \\
\hline
a&X \\
b&Y \\
c&Z \\
e&X \\
f&Z \\
\hline
\end{tabular}
}
\end{center}
\end{minipage}
\end{tabular}
\end{center}
\end{table}

\begin{table}[htbp]
\begin{center}
\begin{tabular}{ccc}

\begin{minipage}{0.5\hsize}
\begin{center}
\caption{Basic example\label{tbl:mvjoin_out2}}
\verb|vf=items m=ref.csv K=item f=taxo| \\
{\small
\begin{tabular}{ll}
\hline
no&items \\
\hline
1&a b c X Y Z \\
2&a d X \\
3&b f e f Y Z X Z \\
4&f c d Z Z \\
\hline

\end{tabular}
}
\end{center}
\end{minipage}

\begin{minipage}{0.50\hsize}
\begin{center}
\caption{An example defining unmatched taxonomy elements\label{tbl:mvjoin_out3}}
\verb|vf=items m=ref.csv K=item f=taxo n=* | \\
{\small
\begin{tabular}{ll}
\hline
no&items \\
\hline
1&a b c X Y Z \\
2&a d X * \\
3&b f e f Y Z X Z \\
4&f c d Z Z * \\
\hline
\end{tabular}
}
\end{center}
\end{minipage}

\end{tabular}
\end{center}
\end{table}


Take note that the \verb|mvjoin| common read the whole reference file at once into memory, thus huge  reference file may consume massive amounts of memory.
%\end{comment}

\subsection*{Format}
\verb/mvjoin vf= [-A] K= f= [n=] m=|/
\hyperref[sect:option_i]{i=}
\hyperref[sect:option_o]{[o=]}
\hyperref[sect:option_delim]{[delim=]} 
\hyperref[sect:option_assert_diffSize]{[-assert\_diffSize]}
\hyperref[sect:option_assert_nullin]{[-assert\_nullin]}
\hyperref[sect:option_assert_nullout]{[-assert\_nullout]}
\hyperref[sect:option_nfn]{[-nfn]} 
\hyperref[sect:option_nfno]{[-nfno]}  
\hyperref[sect:option_x]{[-x]}
\hyperref[sect:option_q]{[-q]}
\hyperref[sect:option_option_tmppath]{[tmpPath=]}
\verb|[--help]|
\verb|[--helpl]|
\verb|[--version]|\\

\subsection*{Parameters}
\begin{table}[htbp]
%\begin{center}
{\small
\begin{tabular}{ll}
\verb|vf=| & Field name of vector (from \verb|i=| input file) for joining. \\
           & Multiple fields can be specified. Sorting of the vectors is not required. \\
\verb|m=|  & Reference file. \\
\verb|K=|  &  Specify key field in reference file (\verb|m=|) where corresponding taxonomy elements are joined to the vector.  \\
           & The sequence of vector should be unique, sorting is not required. \\
           & The output may differ if the string sequence is not unique. \\
\verb|f=|  &  Field name of vector (element) for joining. \\
\verb|n=|  & Specify the replacement character when the key elements do not match in \verb|vf=| and \verb|K=| . \\
           & The vector (element) will not be joined with the reference file when this option not specified.  \\
\end{tabular}
}
\end{table} 


\subsection*{Examples}
\input{examples/tex/mvjoin_ex.tex}

\subsection*{related command}
\hyperref[sect:mvcommon]{mvcommon} : Use this command to select common elements of vector. 

%\end{document}
