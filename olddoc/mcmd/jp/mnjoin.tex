
%\documentclass[a4paper]{jsbook}
%\usepackage{mcmd_jp}
%\begin{document}

\section{mnjoin 参照ファイル項目の自然結合\label{sect:mnjoin}}
\index{mnjoin@mnjoin}
\verb|k=|パラメータで指定した入力ファイルの項目値と参照ファイルの項目値を比較し、
同じ値の場合\verb|m=|パラメータで指定した参照ファイルにある
\verb|f=|パラメータで指定した項目値を自然結合する。 
\verb|mjoin|コマンドとの違いは、参照ファイル上のキー項目に重複があってもよい点である。
あるキー値について、入力ファイル上に$n$件、参照ファイル上に$m$件のレコードがあった場合、
$n\times m$件のレコードが出力されることになる。
また、\verb|f=|を省略すると、参照ファイルのキー項目以外全ての項目を結合する。

\subsection*{書式}
\verb/mnjoin k= [f=] [K=] [-n] [-N] m=|/ 
\hyperref[sect:option_i]{i=}
\hyperref[sect:option_o]{[o=]}
\hyperref[sect:option_bufcount]{[bufcount=]} 
\hyperref[sect:option_assert_diffSize]{[-assert\_diffSize]}
\hyperref[sect:option_assert_nullkey]{[-assert\_nullkey]}
\hyperref[sect:option_assert_nullin]{[-assert\_nullin]}
\hyperref[sect:option_assert_nullout]{[-assert\_nullout]}
\hyperref[sect:option_nfn]{[-nfn]} 
\hyperref[sect:option_nfno]{[-nfno]}  
\hyperref[sect:option_x]{[-x]}
\hyperref[sect:option_q]{[-q]}
\hyperref[sect:option_option_tmppath]{[tmpPath=]}
\hyperref[sect:option_precision]{[precision=]}
\verb|[-params]|
\verb|[--help]|
\verb|[--helpl]|
\verb|[--version]|\\

\subsection*{パラメータ}
\begin{table}[htbp]
%\begin{center}
{\small
\begin{tabular}{ll}
\verb|i=|    & 入力ファイル名を指定する。\\
\verb|o=|    & 出力ファイル名を指定する。\\
\verb|k=|    & 入力データ上の突き合わせる項目名リストを指定する。\\
             & ここで指定した入力データの項目と\verb|K=|パラメータで指定された \\
             & 参照データの項目が同じ行の項目結合が行われる。\\
\verb|f=|    & 結合する参照ファイル上の項目名リストを指定する。\\
             & 省略するとキー項目を除いた全ての項目が結合される。\\
\verb|m=|    & 参照ファイル名を指定する。\\
             & このパラメータが省略された時には標準入力が用いられる。(\verb|i=|指定ありの場合)\\
\verb|K=|    & 参照データ上の突き合わせる項目名リスト\\
             & ここで指定した参照データの項目と\verb|k=|パラメータで指定された
               入力データの項目が同じ行の項目結合が行われる。\\
             & 参照データ上に\verb|k=|パラメータで指定した入力データ上の
               項目と同名の項目が存在する場合は指定する必要はない。\\
\verb|bufcount=| & バッファのサイズ数を指定する。 \\
\verb|-n|    & 参照データにない入力データをNULL値として出力するフラグ。\\
\verb|-N|    & 入力データにない参照データをNULL値として出力するフラグ。\\
\end{tabular} 
}
\end{table} 

\subsection*{利用例}
\input{examples/tex/mnjoin_ex.tex}
\subsection*{関連コマンド}
\hyperref[sect:mjoin] {mjoin} : 参照ファイルのキーが単一化されているのであれば\verb|mjoin|を使うと若干高速。

\hyperref[sect:mproduct] {mproduct} : 結合キー関係なく全行の組み合せで結合する。1行だけからなる参照ファイルを入力ファイル全行に結合する目的で利用することが多い。

%\end{document}
