
\section{mgdiff.rb グラフの差分\label{sect:mgdiff}}

本コマンドは、2つの一般グラフの差分情報を出力する。
%ただし、現在のところ、枝の有無の比較のみ対応している。

\subsection{書式}
\begin{verbatim}
書式) mgdiff.rb ei= [ef=] eI= [eF=] [eo=] [no=] [T=] [--help]

  ファイル名指定
  ei=  : 入力枝ファイル1
  ef=  : 枝を構成するの2つの節点項目名(ei=上の項目名,デフォルト:node1,node2)
  eI=  : 入力枝ファイル2
  eF=  : eI=上の2つの節点項目名(ef=と同じであれば省略できる,デフォルト:ef=で指定した項目名)

  ni=  : 入力節点ファイル1(ei=に対応)
  nf=  : 枝を構成するの2つの節点項目名(ni=上の項目名,デフォルト:node)
  nI=  : 入力節点ファイル2(eI=に対応)
  nF=  : nI=上の2つの節点項目名(nf=と同じであれば省略できる,デフォルト:nf=で指定した項目名)

  eo=  : 出力枝ファイル
  no=  : 出力節点ファイル

  -dir : 有向グラフとして扱う

  その他
  T= : ワークディレクトリ(default:/tmp)
  --help : ヘルプの表示

  注1) 無向グラフとして扱う場合(デフォルト)、ei=ファイルとeI=ファイルとで、
       節点の並びが異なっていても、それは同じと見なす(ex. 枝a,bと枝b,aは同じ)。
       -dirを指定すれば異なるものと見なす。
  注2) 無向グラフとして扱う場合(デフォルト)、
       処理効率を重視し、ef=で指定した節点の並びはアルファベット順に並べ替えるため、
       eo=の項目の並びがei=やeI=の並びと異なることがある。
  注3) 同じ枝が複数ある場合、それらは単一化される。

入力データ)
ei=,eI=: 節点ペアからなるCSVファイル。
ni=,nI=: 節点からなるCSVファイル。

枝出力データ)
枝ファイル1と枝ファイル2のいずれかに出現する枝(節点ペア)について以下の値を出力する。
項目名: 内容
 ei    : ei=で指定したグラフにその行の節点ペアがあれば、そのファイル名
 eI    : eI=で指定したグラフにその行の節点ペアがあれば、そのファイル名
 diff : 差分の区分
         1: ei=のグラフにしか存在しない
         0: ei=,eI=の両方に存在する
        -1: eI=のグラフにしか存在しない

節点出力データ)
節点ファイル1と節点ファイル2のいずれかに出現する節点について以下の値を出力する。
項目名: 内容
 ni    : ni=で指定したグラフにその節点があれば、そのファイル名
 nI    : nI=で指定したグラフにその節点があれば、そのファイル名
 diff : 差分の区分
         1: ni=のグラフにしか存在しない
         0: ni=,nI=の両方に存在する
        -1: nI=のグラフにしか存在しない
\end{verbatim}

\subsection{利用例}
\input{examples/tex/mgdiff_ex.tex}


